---
import type { Language } from "../../i18n";

interface Props {
  lang: Language;
  currentPath: string;
}

const { lang, currentPath } = Astro.props;

// Generate the alternate language path
const alternateLang = lang === "ne" ? "en" : "ne";
const alternatePath = currentPath.replace(`/${lang}/`, `/${alternateLang}/`);
---

<div class="flex items-center gap-2">
  <span class="text-sm text-slate-400">
    {lang === "ne" ? "भाषा:" : "Language:"}
  </span>
  <div class="flex bg-slate-800 p-1 border border-slate-700">
    <a
      href={currentPath}
      class={`px-3 py-1 text-sm font-medium transition-all ${
        lang === "ne"
          ? "bg-slate-700 text-slate-100 shadow-sm border border-slate-600"
          : "text-slate-400 hover:text-slate-200"
      }`}
    >
      नेपाली
    </a>
    <a
      href={alternatePath}
      class={`px-3 py-1 text-sm font-medium transition-all ${
        lang === "en"
          ? "bg-slate-700 text-slate-100 shadow-sm border border-slate-600"
          : "text-slate-400 hover:text-slate-200"
      }`}
    >
      English
    </a>
  </div>
</div>
