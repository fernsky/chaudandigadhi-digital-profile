---
import type { Language } from "../../../lib/i18n";
import { loadChapterSection } from "../../../lib/i18n/chapter-loader";
import BarChart from "../../charts/BarChart.astro";
import PieChart from "../../charts/PieChart.astro";

interface Props {
    lang: Language;
}

const { lang } = Astro.props;

type HousingStructureContent = {
    title: string;
    sectionId: string;
    number: string;
    intro: string;
    subsections: {
        ownershipDetails: {
            title: string;
            subtitle: string;
            tableNumber: string;
            tableTitle: string;
            tableData: Array<{
                ward: number;
                owned: number;
                rented: number;
                institutional: number;
                other: number;
                total: number;
            }>;
            total: {
                owned: number;
                rented: number;
                institutional: number;
                other: number;
                total: number;
            };
            percentage: {
                owned: number;
                rented: number;
                institutional: number;
                other: number;
            };
            source: string;
            chartTitle: string;
        };
        foundationDetails: {
            title: string;
            subtitle: string;
            tableNumber: string;
            tableTitle: string;
            tableData: Array<{
                ward: number;
                mudBonded: number;
                cementBonded: number;
                rcc: number;
                wooden: number;
                other: number;
                total: number;
            }>;
            total: {
                mudBonded: number;
                cementBonded: number;
                rcc: number;
                wooden: number;
                other: number;
                total: number;
            };
            percentage: {
                mudBonded: number;
                cementBonded: number;
                rcc: number;
                wooden: number;
                other: number;
            };
            source: string;
            chartTitle: string;
        };
        outerWallDetails: {
            title: string;
            subtitle: string;
            tableNumber: string;
            tableTitle: string;
            tableData: Array<{
                ward: number;
                mudBonded: number;
                cementBonded: number;
                wood: number;
                bamboo: number;
                unbakedBrick: number;
                galvanized: number;
                other: number;
                total: number;
            }>;
            total: {
                mudBonded: number;
                cementBonded: number;
                wood: number;
                bamboo: number;
                unbakedBrick: number;
                galvanized: number;
                other: number;
                total: number;
            };
            percentage: {
                mudBonded: number;
                cementBonded: number;
                wood: number;
                bamboo: number;
                unbakedBrick: number;
                galvanized: number;
                other: number;
            };
            source: string;
            chartTitle: string;
        };
        floorDetails: {
            title: string;
            subtitle: string;
            intro: string;
            tableNumber: string;
            tableTitle: string;
            tableData: Array<{
                ward: number;
                mud: number;
                woodBamboo: number;
                brickStone: number;
                tile: number;
                cement: number;
                other: number;
                total: number;
            }>;
            total: {
                mud: number;
                woodBamboo: number;
                brickStone: number;
                tile: number;
                cement: number;
                other: number;
                total: number;
            };
            percentage: {
                mud: number;
                woodBamboo: number;
                brickStone: number;
                tile: number;
                cement: number;
                other: number;
            };
            source: string;
            chartTitle: string;
        };
        roofDetails: {
            title: string;
            subtitle: string;
            intro: string;
            tableNumber: string;
            tableTitle: string;
            tableData: Array<{
                ward: number;
                zinc: number;
                cement: number;
                straw: number;
                tile: number;
                stone: number;
                wood: number;
                other: number;
                total: number;
            }>;
            total: {
                zinc: number;
                cement: number;
                straw: number;
                tile: number;
                stone: number;
                wood: number;
                other: number;
                total: number;
            };
            percentage: {
                zinc: number;
                cement: number;
                straw: number;
                tile: number;
                stone: number;
                wood: number;
                other: number;
            };
            source: string;
            chartTitle: string;
        };
    };
};

const content = await loadChapterSection<HousingStructureContent>(
    4,
    "housing-structure",
    lang,
);

if (!content) {
    throw new Error("Housing structure content not found");
}

// Ownership Chart Data
const ownershipChartLabels = ["गिनी", "भाडामा", "संस्थागत", "अन्य (खुलाउने)"];
const ownershipChartData = [
    content.subsections.ownershipDetails.total.owned,
    content.subsections.ownershipDetails.total.rented,
    content.subsections.ownershipDetails.total.institutional,
    content.subsections.ownershipDetails.total.other,
];

// Foundation Chart Data
const foundationChartLabels = [
    "माटोको जोडाइ भएको ईँटा/ढुङ्गा",
    "सिमेन्टको जोडाइ भएको ईँटा/ढुङ्गा",
    "ढलान पिल्लर सहितको",
    "काठको खम्बा",
    "अन्य (खुलाउने)",
];
const foundationChartData = [
    content.subsections.foundationDetails.total.mudBonded,
    content.subsections.foundationDetails.total.cementBonded,
    content.subsections.foundationDetails.total.rcc,
    content.subsections.foundationDetails.total.wooden,
    content.subsections.foundationDetails.total.other,
];

// Outer Wall Chart Data
const outerWallChartLabels = [
    "माटो र ईट्टाको जोडाइ",
    "सिमेन्ट र ईँट्टाको जोडाइ",
    "काठ",
    "बाँस",
    "काँचो ईँट्टा",
    "जस्तापाता",
    "अन्य",
];
const outerWallChartData = [
    content.subsections.outerWallDetails.total.mudBonded,
    content.subsections.outerWallDetails.total.cementBonded,
    content.subsections.outerWallDetails.total.wood,
    content.subsections.outerWallDetails.total.bamboo,
    content.subsections.outerWallDetails.total.unbakedBrick,
    content.subsections.outerWallDetails.total.galvanized,
    content.subsections.outerWallDetails.total.other,
];

// Floor Chart Data
const floorChartLabels = [
    "माटो",
    "काठको फल्याक/बाँस",
    "इँटा/ढुङ्गा",
    "सेरामिक टायल",
    "सिमेन्ट ढलान",
    "अन्य",
];
const floorChartData = [
    content.subsections.floorDetails.total.mud,
    content.subsections.floorDetails.total.woodBamboo,
    content.subsections.floorDetails.total.brickStone,
    content.subsections.floorDetails.total.tile,
    content.subsections.floorDetails.total.cement,
    content.subsections.floorDetails.total.other,
];

// Roof Chart Data
const roofChartLabels = [
    "जस्ता/टिन",
    "सिमेन्ट ढलान",
    "खर/पराल/छाली",
    "टायल/खपडा/झिँगटी",
    "ढुङ्गा/स्लेट",
    "काठ/फल्याक",
    "अन्य",
];
const roofChartData = [
    content.subsections.roofDetails.total.zinc,
    content.subsections.roofDetails.total.cement,
    content.subsections.roofDetails.total.straw,
    content.subsections.roofDetails.total.tile,
    content.subsections.roofDetails.total.stone,
    content.subsections.roofDetails.total.wood,
    content.subsections.roofDetails.total.other,
];
---

<section id="housing-structure" class="relative bg-[#050505] py-8 md:py-12">
    <div class="container mx-auto px-8">
        <div class="max-w-4xl mx-auto">
            <!-- Section Header -->
            <div class="mb-6">
                <h2
                    class="font-serif text-3xl md:text-4xl font-medium text-zinc-100 mb-6"
                >
                    {content.number}
                    {content.title}
                </h2>
            </div>

            <!-- Subsection: Ownership Details -->
            <div class="mb-12">
                <h3
                    class="font-serif text-2xl md:text-3xl font-medium text-zinc-100 mb-4"
                >
                    {content.subsections.ownershipDetails.subtitle}
                </h3>

                <!-- Introduction -->
                <p
                    class="text-zinc-100 font-serif text-lg md:text-xl font-light leading-relaxed mb-10"
                >
                    {content.intro}
                </p>

                <!-- Table Title -->
                <h4
                    class="font-serif text-xl md:text-2xl text-zinc-100 font-medium mb-4"
                >
                    {content.subsections.ownershipDetails.tableNumber}: {
                        content.subsections.ownershipDetails.tableTitle
                    }
                </h4>

                <!-- Ownership Table -->
                <div class="overflow-x-auto mb-6">
                    <table
                        class="w-full border-collapse bg-[#0a0a0a] border border-[#f2e25d]/10"
                    >
                        <thead>
                            <tr
                                class="bg-[#f2e25d]/5 border-b border-[#f2e25d]/20"
                            >
                                <th
                                    class="px-4 py-3 text-left font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >वडा नं.</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >भाडामा</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >संस्थागत</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >अन्य (खुलाउने)</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium"
                                    >जम्मा</th
                                >
                            </tr>
                        </thead>
                        <tbody>
                            {
                                content.subsections.ownershipDetails.tableData.map(
                                    (row) => (
                                        <tr class="border-b border-[#f2e25d]/5 hover:bg-[#f2e25d]/5 transition-colors duration-200">
                                            <td class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/5">
                                                {row.ward}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.owned.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.rented.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.institutional.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.other.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right">
                                                {row.total.toLocaleString()}
                                            </td>
                                        </tr>
                                    ),
                                )
                            }
                            <!-- Total Row -->
                            <tr
                                class="bg-[#f2e25d]/10 border-t-2 border-[#f2e25d]/30 font-medium"
                            >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/10"
                                    >जम्मा</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                >
                                    {
                                        content.subsections.ownershipDetails.total.owned.toLocaleString()
                                    }
                                </td>
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                >
                                    {
                                        content.subsections.ownershipDetails.total.rented.toLocaleString()
                                    }
                                </td>
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                >
                                    {
                                        content.subsections.ownershipDetails.total.institutional.toLocaleString()
                                    }
                                </td>
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                >
                                    {
                                        content.subsections.ownershipDetails.total.other.toLocaleString()
                                    }
                                </td>
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right font-bold"
                                >
                                    {
                                        content.subsections.ownershipDetails.total.total.toLocaleString()
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Source 1 -->
                <p class="text-zinc-400 font-serif text-sm italic mb-8">
                    स्रोत: {content.subsections.ownershipDetails.source}
                </p>

                <!-- Ownership Bar Chart -->
                <div class="bg-[#0a0a0a] border border-[#f2e25d]/10 p-6">
                    <BarChart
                        id="housing-ownership-chart"
                        title={content.subsections.ownershipDetails.chartTitle}
                        labels={ownershipChartLabels}
                        data={ownershipChartData}
                        backgroundColor="rgba(242, 226, 93, 0.8)"
                        lang={lang}
                    />
                </div>
            </div>

            <!-- Subsection: Foundation Details -->
            <div class="mb-12">
                <h3
                    class="font-serif text-2xl md:text-3xl font-medium text-zinc-100 mb-4"
                >
                    {content.subsections.foundationDetails.subtitle}
                </h3>

                <h4
                    class="font-serif text-xl md:text-2xl text-zinc-100 font-medium mb-4"
                >
                    {content.subsections.foundationDetails.tableNumber}: {
                        content.subsections.foundationDetails.tableTitle
                    }
                </h4>

                <!-- Foundation Table -->
                <div class="overflow-x-auto mb-6">
                    <table
                        class="w-full border-collapse bg-[#0a0a0a] border border-[#f2e25d]/10"
                    >
                        <thead>
                            <tr
                                class="bg-[#f2e25d]/5 border-b border-[#f2e25d]/20"
                            >
                                <th
                                    class="px-4 py-3 text-left font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >वडा नं.</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >माटोको जोडाइ भएको ईँटा/ढुङ्गा</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >सिमेन्टको जोडाइ भएको ईँटा/ढुङ्गा</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >ढलान पिल्लर सहितको</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >काठको खम्बा</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >अन्य (खुलाउने)</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium"
                                    >जम्मा</th
                                >
                            </tr>
                        </thead>
                        <tbody>
                            {
                                content.subsections.foundationDetails.tableData.map(
                                    (row) => (
                                        <tr class="border-b border-[#f2e25d]/5 hover:bg-[#f2e25d]/5 transition-colors duration-200">
                                            <td class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/5">
                                                {row.ward}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.mudBonded.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.cementBonded.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.rcc.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.wooden.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.other.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right">
                                                {row.total.toLocaleString()}
                                            </td>
                                        </tr>
                                    ),
                                )
                            }
                            <tr
                                class="bg-[#f2e25d]/10 border-t-2 border-[#f2e25d]/30 font-medium"
                            >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/10"
                                    >जम्मा</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.foundationDetails.total.mudBonded.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.foundationDetails.total.cementBonded.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.foundationDetails.total.rcc.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.foundationDetails.total.wooden.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.foundationDetails.total.other.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right font-bold"
                                    >{
                                        content.subsections.foundationDetails.total.total.toLocaleString()
                                    }</td
                                >
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Source 2 -->
                <p class="text-zinc-400 font-serif text-sm italic mb-8">
                    स्रोत: {content.subsections.foundationDetails.source}
                </p>

                <!-- Foundation Bar Chart -->
                <div class="bg-[#0a0a0a] border border-[#f2e25d]/10 p-6">
                    <BarChart
                        id="housing-foundation-chart"
                        title={content.subsections.foundationDetails.chartTitle}
                        labels={foundationChartLabels}
                        data={foundationChartData}
                        backgroundColor="rgba(96, 165, 250, 0.8)"
                        lang={lang}
                    />
                </div>
            </div>

            <!-- Subsection: Outer Wall Details -->
            <div class="mb-12">
                <h3
                    class="font-serif text-2xl md:text-3xl font-medium text-zinc-100 mb-4"
                >
                    {content.subsections.outerWallDetails.subtitle}
                </h3>

                <h4
                    class="font-serif text-xl md:text-2xl text-zinc-100 font-medium mb-4"
                >
                    {content.subsections.outerWallDetails.tableNumber}: {
                        content.subsections.outerWallDetails.tableTitle
                    }
                </h4>

                <!-- Outer Wall Table -->
                <div class="overflow-x-auto mb-6">
                    <table
                        class="w-full border-collapse bg-[#0a0a0a] border border-[#f2e25d]/10"
                    >
                        <thead>
                            <tr
                                class="bg-[#f2e25d]/5 border-b border-[#f2e25d]/20"
                            >
                                <th
                                    class="px-4 py-3 text-left font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >वडा नं.</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >माटो र ईट्टाको जोडाइ</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >सिमेन्ट र ईँट्टाको जोडाइ</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >काठ</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >बाँस</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >काँचो ईँट्टा</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >जस्तापाता</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >अन्य</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium"
                                    >जम्मा</th
                                >
                            </tr>
                        </thead>
                        <tbody>
                            {
                                content.subsections.outerWallDetails.tableData.map(
                                    (row) => (
                                        <tr class="border-b border-[#f2e25d]/5 hover:bg-[#f2e25d]/5 transition-colors duration-200">
                                            <td class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/5">
                                                {row.ward}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.mudBonded.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.cementBonded.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.wood.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.bamboo.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.unbakedBrick.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.galvanized.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.other.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right">
                                                {row.total.toLocaleString()}
                                            </td>
                                        </tr>
                                    ),
                                )
                            }
                            <tr
                                class="bg-[#f2e25d]/10 border-t-2 border-[#f2e25d]/30 font-medium"
                            >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/10"
                                    >जम्मा</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails.total.mudBonded.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails.total.cementBonded.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails.total.wood.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails.total.bamboo.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails.total.unbakedBrick.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails.total.galvanized.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails.total.other.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right font-bold"
                                    >{
                                        content.subsections.outerWallDetails.total.total.toLocaleString()
                                    }</td
                                >
                            </tr>
                            <tr
                                class="bg-[#f2e25d]/5 border-t border-[#f2e25d]/20 font-medium"
                            >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/10"
                                    >प्रतिशत</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails
                                            .percentage.mudBonded
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails
                                            .percentage.cementBonded
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails
                                            .percentage.wood
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails
                                            .percentage.bamboo
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails
                                            .percentage.unbakedBrick
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails
                                            .percentage.galvanized
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.outerWallDetails
                                            .percentage.other
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right"
                                    >100</td
                                >
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Source 3 -->
                <p class="text-zinc-400 font-serif text-sm italic mb-8">
                    स्रोत: {content.subsections.outerWallDetails.source}
                </p>

                <!-- Outer Wall Pie Chart -->
                <div
                    class="bg-[#0a0a0a] border border-[#f2e25d]/10 p-6 flex justify-center"
                >
                    <div class="w-full max-w-2xl">
                        <PieChart
                            id="housing-outerwall-chart"
                            title={content.subsections.outerWallDetails
                                .chartTitle}
                            labels={outerWallChartLabels}
                            data={outerWallChartData}
                            lang={lang}
                            type="doughnut"
                            backgroundColor={[
                                "#4472C4",
                                "#ED7D31",
                                "#A5A5A5",
                                "#FFC000",
                                "#5B9BD5",
                                "#70AD47",
                                "#255E91",
                            ]}
                        />
                    </div>
                </div>
            </div>

            <!-- Subsection: Floor Details -->
            <div class="mb-12">
                <h3
                    class="font-serif text-2xl md:text-3xl font-medium text-zinc-100 mb-4"
                >
                    {content.subsections.floorDetails.subtitle}
                </h3>

                <p
                    class="text-zinc-100 font-serif text-lg md:text-xl font-light leading-relaxed mb-10"
                >
                    {content.subsections.floorDetails.intro}
                </p>

                <h4
                    class="font-serif text-xl md:text-2xl text-zinc-100 font-medium mb-4"
                >
                    {content.subsections.floorDetails.tableNumber}: {
                        content.subsections.floorDetails.tableTitle
                    }
                </h4>

                <!-- Floor Table -->
                <div class="overflow-x-auto mb-6">
                    <table
                        class="w-full border-collapse bg-[#0a0a0a] border border-[#f2e25d]/10"
                    >
                        <thead>
                            <tr
                                class="bg-[#f2e25d]/5 border-b border-[#f2e25d]/20"
                            >
                                <th
                                    class="px-4 py-3 text-left font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >वडा नं.</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >माटो</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >काठको फल्याक/बाँस</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >इँटा/ढुङ्गा</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >सेरामिक टायल</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >सिमेन्ट ढलान</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >अन्य</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium"
                                    >जम्मा</th
                                >
                            </tr>
                        </thead>
                        <tbody>
                            {
                                content.subsections.floorDetails.tableData.map(
                                    (row) => (
                                        <tr class="border-b border-[#f2e25d]/5 hover:bg-[#f2e25d]/5 transition-colors duration-200">
                                            <td class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/5">
                                                {row.ward}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.mud.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.woodBamboo.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.brickStone.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.tile.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.cement.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.other.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right">
                                                {row.total.toLocaleString()}
                                            </td>
                                        </tr>
                                    ),
                                )
                            }
                            <tr
                                class="bg-[#f2e25d]/10 border-t-2 border-[#f2e25d]/30 font-medium"
                            >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/10"
                                    >जम्मा</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails.total.mud.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails.total.woodBamboo.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails.total.brickStone.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails.total.tile.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails.total.cement.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails.total.other.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right font-bold"
                                    >{
                                        content.subsections.floorDetails.total.total.toLocaleString()
                                    }</td
                                >
                            </tr>
                            <tr
                                class="bg-[#f2e25d]/5 border-t border-[#f2e25d]/20 font-medium"
                            >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/10"
                                    >प्रतिशत</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails
                                            .percentage.mud
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails
                                            .percentage.woodBamboo
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails
                                            .percentage.brickStone
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails
                                            .percentage.tile
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails
                                            .percentage.cement
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.floorDetails
                                            .percentage.other
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right"
                                    >100%</td
                                >
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Floor Pie Chart -->
                <div
                    class="bg-[#0a0a0a] border border-[#f2e25d]/10 p-6 flex justify-center"
                >
                    <div class="w-full max-w-2xl">
                        <PieChart
                            id="housing-floor-chart"
                            title={content.subsections.floorDetails.chartTitle}
                            labels={floorChartLabels}
                            data={floorChartData}
                            lang={lang}
                            type="pie"
                            backgroundColor={[
                                "#92D050",
                                "#C0504D",
                                "#7030A0",
                                "#00B0F0",
                                "#FFC000",
                                "#FF0000",
                            ]}
                        />
                    </div>
                </div>
            </div>

            <!-- Subsection: Roof Details -->
            <div class="mb-12">
                <h3
                    class="font-serif text-2xl md:text-3xl font-medium text-zinc-100 mb-4"
                >
                    {content.subsections.roofDetails.subtitle}
                </h3>

                {
                    content.subsections.roofDetails.intro && (
                        <p class="text-zinc-100 font-serif text-lg md:text-xl font-light leading-relaxed mb-10">
                            {content.subsections.roofDetails.intro}
                        </p>
                    )
                }

                <h4
                    class="font-serif text-xl md:text-2xl text-zinc-100 font-medium mb-4"
                >
                    {content.subsections.roofDetails.tableNumber}: {
                        content.subsections.roofDetails.tableTitle
                    }
                </h4>

                <!-- Roof Table -->
                <div class="overflow-x-auto mb-6">
                    <table
                        class="w-full border-collapse bg-[#0a0a0a] border border-[#f2e25d]/10"
                    >
                        <thead>
                            <tr
                                class="bg-[#f2e25d]/5 border-b border-[#f2e25d]/20"
                            >
                                <th
                                    class="px-4 py-3 text-left font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >वडा नं.</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >जस्ता/टिन</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >सिमेन्ट ढलान</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >खर/पराल/छाली</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >टायल/खपडा/झिँगटी</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >ढुङ्गा/स्लेट</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >काठ/फल्याक</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium border-r border-[#f2e25d]/10"
                                    >अन्य</th
                                >
                                <th
                                    class="px-4 py-3 text-right font-serif text-zinc-100 font-medium"
                                    >जम्मा</th
                                >
                            </tr>
                        </thead>
                        <tbody>
                            {
                                content.subsections.roofDetails.tableData.map(
                                    (row) => (
                                        <tr class="border-b border-[#f2e25d]/5 hover:bg-[#f2e25d]/5 transition-colors duration-200">
                                            <td class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/5">
                                                {row.ward}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.zinc.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.cement.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.straw.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.tile.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.stone.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.wood.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/5">
                                                {row.other.toLocaleString()}
                                            </td>
                                            <td class="px-4 py-3 font-serif text-zinc-100 text-right">
                                                {row.total.toLocaleString()}
                                            </td>
                                        </tr>
                                    ),
                                )
                            }
                            <tr
                                class="bg-[#f2e25d]/10 border-t-2 border-[#f2e25d]/30 font-medium"
                            >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/10"
                                    >जम्मा</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails.total.zinc.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails.total.cement.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails.total.straw.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails.total.tile.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails.total.stone.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails.total.wood.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails.total.other.toLocaleString()
                                    }</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right font-bold"
                                    >{
                                        content.subsections.roofDetails.total.total.toLocaleString()
                                    }</td
                                >
                            </tr>
                            <tr
                                class="bg-[#f2e25d]/5 border-t border-[#f2e25d]/20 font-medium"
                            >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 border-r border-[#f2e25d]/10"
                                    >प्रतिशत</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails
                                            .percentage.zinc
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails
                                            .percentage.cement
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails
                                            .percentage.straw
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails
                                            .percentage.tile
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails
                                            .percentage.stone
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails
                                            .percentage.wood
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right border-r border-[#f2e25d]/10"
                                    >{
                                        content.subsections.roofDetails
                                            .percentage.other
                                    }%</td
                                >
                                <td
                                    class="px-4 py-3 font-serif text-zinc-100 text-right"
                                    >100%</td
                                >
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Roof Pie Chart -->
                <div
                    class="bg-[#0a0a0a] border border-[#f2e25d]/10 p-6 flex justify-center"
                >
                    <div class="w-full max-w-2xl">
                        <PieChart
                            id="housing-roof-chart"
                            title={content.subsections.roofDetails.chartTitle}
                            labels={roofChartLabels}
                            data={roofChartData}
                            lang={lang}
                            type="pie"
                            backgroundColor={[
                                "#5B9BD5",
                                "#ED7D31",
                                "#70AD47",
                                "#FFC000",
                                "#FF0000",
                                "#A5A5A5",
                                "#264478",
                            ]}
                        />
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
