---
import type { Language } from "../../../lib/i18n";
import { loadChapterSection } from "../../../lib/i18n/chapter-loader";

interface Props {
    lang: Language;
}

const { lang } = Astro.props;

type EducationalStatusContent = {
    title: string;
    sectionId: string;
    intro: Array<{ text: string }>;
    constitutionalRights: {
        title: string;
        reference: string;
        provisions: string[];
    };
    mapReference: {
        number: string;
        title: string;
        image: string;
    };
};

const content = await loadChapterSection<EducationalStatusContent>(
    5,
    "educational-status",
    lang,
);

if (!content) {
    throw new Error("Educational status section content not found");
}
---

<section id="educational-status" class="relative bg-[#050505] py-8 md:py-12">
    <div class="container mx-auto px-8">
        <div class="max-w-4xl mx-auto">
            <!-- Section Header -->
            <div class="mb-6">
                <h2
                    class="font-serif text-3xl md:text-4xl font-medium text-zinc-100 mb-6"
                >
                    ५.१ {content.title}
                </h2>
            </div>

            <!-- Introduction Paragraphs -->
            <div class="space-y-4 mb-8">
                {
                    content.intro.map((para) => (
                        <p class="text-zinc-100 font-serif text-lg md:text-xl font-light leading-relaxed">
                            {para.text}
                        </p>
                    ))
                }
            </div>

            <!-- Constitutional Rights Section -->
            <div
                class="bg-[#0a0a0a] border border-[#f2e25d]/10 p-6 md:p-8 mb-8 group hover:border-[#f2e25d]/30 transition-all duration-300"
            >
                <h3
                    class="font-serif text-xl md:text-2xl text-zinc-100 font-medium mb-4"
                >
                    {content.constitutionalRights.title}
                </h3>
                <p
                    class="text-zinc-100 font-serif text-base md:text-lg font-light mb-4 italic"
                >
                    {content.constitutionalRights.reference}
                </p>
                <ul class="space-y-3">
                    {
                        content.constitutionalRights.provisions.map(
                            (provision, index) => (
                                <li class="text-zinc-100 font-serif text-base md:text-lg font-light leading-relaxed flex">
                                    <span class="mr-3 text-[#f2e25d]">
                                        {index + 1}.
                                    </span>
                                    <span>{provision}</span>
                                </li>
                            ),
                        )
                    }
                </ul>
            </div>

            <!-- Education Map -->
            <div
                class="bg-[#0a0a0a] border border-[#f2e25d]/10 p-6 group hover:border-[#f2e25d]/30 transition-all duration-300"
            >
                <div
                    class="aspect-[4/3] bg-[#050505] mb-4 flex items-center justify-center border border-[#f2e25d]/5"
                >
                    <img
                        src={content.mapReference.image}
                        alt={content.mapReference.title}
                        class="w-full h-full object-contain"
                        loading="lazy"
                    />
                </div>
                <p class="text-zinc-100 font-serif text-sm text-center">
                    नक्सा नं. {content.mapReference.number}: {
                        content.mapReference.title
                    }
                </p>
            </div>
        </div>
    </div>
</section>
