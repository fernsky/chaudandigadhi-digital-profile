---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PremiumHeader from "../../components/navigation/PremiumHeader.astro";
import type { Language } from "../../lib/i18n";
import { getTranslations } from "../../lib/i18n";
import { ChevronDown } from "lucide-astro";

export async function getStaticPaths() {
    return [{ params: { lang: "ne" } }, { params: { lang: "en" } }];
}

const { lang } = Astro.params as { lang: Language };
const t = getTranslations(lang);
---

<BaseLayout
    lang={lang}
    title={t.meta.title}
    description={t.meta.description}
    hideHeader={true}
>
    <!-- Hero Section -->
    <section
        class="relative h-screen bg-[url('/images/sakuna-pokhari.jpeg')] bg-cover bg-center bg-fixed"
    >
        <div
            class="absolute inset-0 bg-linear-to-br from-slate-950/85 via-slate-900/75 to-slate-950/85"
        >
        </div>
        <div class="relative z-10 h-full">
            <div
                class="container mx-auto px-8 h-full flex flex-col justify-center"
            >
                <div
                    class="max-w-4xl animate-in fade-in slide-in-from-bottom-12 duration-1000 ease-out"
                >
                    <h1
                        class="font-serif text-6xl md:text-[10rem] font-extralight leading-[1.1] mb-6 text-white tracking-tighter"
                    >
                        {t.home.hero.title}
                    </h1>
                    <div
                        class="font-serif text-xl md:text-2xl font-extralight leading-relaxed text-slate-300 mb-12 tracking-wide space-y-3"
                    >
                        <p>{t.home.hero.office}</p>
                        <p>{t.home.hero.location}</p>
                    </div>
                    <a
                        href="#story"
                        class="inline-flex items-center justify-start bg-white text-slate-950 px-12 py-6 text-sm font-semibold tracking-[0.2em] uppercase transition-all duration-500 hover:bg-slate-100 hover:translate-x-2 hover:shadow-[20px_20px_60px_rgba(0,0,0,0.5)]"
                    >
                        {t.home.hero.cta}
                    </a>
                </div>
            </div>
        </div>

        <!-- Scroll Indicator -->
        <div
            class="absolute bottom-12 left-1/2 -translate-x-1/2 text-white/50 animate-bounce z-10"
        >
            <ChevronDown size={32} />
        </div>
    </section>

    <!-- Story Section -->
    <section
        id="story"
        class="relative min-h-screen bg-[url('/images/yalambar-park.jpeg')] bg-cover bg-center bg-fixed flex items-center"
    >
        <div
            class="absolute inset-0 bg-linear-to-br from-slate-950/92 via-slate-900/88 to-slate-950/92"
        >
        </div>
        <div class="relative z-10 w-full py-24">
            <div class="container mx-auto px-8 h-full flex items-center">
                <div class="max-w-3xl mx-auto text-center">
                    <h2
                        class="font-serif text-4xl md:text-6xl font-light leading-snug mb-12 text-white tracking-tight"
                    >
                        {t.home.story.title}
                    </h2>
                    <div class="max-w-(--spacing-80) mx-auto">
                        <p
                            class="text-lg md:text-2xl font-light leading-loose text-slate-300 my-8"
                            set:html={t.home.story.p1}
                        />
                        <p
                            class="text-lg md:text-2xl font-light leading-loose text-slate-300 my-8"
                            set:html={t.home.story.p2}
                        />
                        <p
                            class="text-lg md:text-2xl font-light leading-loose text-slate-300 my-8"
                            set:html={t.home.story.p3}
                        />
                    </div>
                </div>
            </div>
        </div>
    </section>

    <style>
        /* Keep any global highlight specific logic if needed, but porting highlight too */
        .story-content :global(.highlight) {
            color: var(--color-accent-400);
            font-weight: 400;
        }

        /* Fixed background support for mobile if needed */
        @media (max-width: 768px) {
            section {
                background-attachment: scroll !important;
            }
        }
    </style>
</BaseLayout>
