---
import PieChart from "../../../../components/charts/PieChart.astro";

const { lang } = Astro.props;

const content = {
    ne: {
        title: "खानेपानी तथा सरसफाई",
        text: "९५% घरधुरीमा आधारभूत खानेपानीको पहुँच पुगेको छ।",
        chartTitle: "खानेपानी स्रोतको अवस्था",
        chartLabels: [
            "पाइप प्रणाली",
            "ट्युबवेल/हाते पम्प",
            "इनार/कुवा",
            "अन्य",
        ],
    },
    en: {
        title: "Water Supply and Sanitation",
        text: "95% of households have access to basic drinking water.",
        chartTitle: "Source of Drinking Water",
        chartLabels: ["Piped System", "Tubewell/Handpump", "Well", "Others"],
    },
};

const t = content[lang];
---

<div class="mb-16">
    <h2
        class="text-2xl md:text-3xl font-bold mb-4 text-gray-900 border-b border-teal-100 pb-2"
    >
        5.3 {t.title}
    </h2>

    <p class="text-gray-700 text-lg leading-relaxed mb-8">
        {t.text}
    </p>

    <div class="grid grid-cols-1 md:grid-cols-1 gap-8">
        <div class="max-w-xl mx-auto w-full">
            <PieChart
                id="water-source-chart"
                title={t.chartTitle}
                labels={t.chartLabels}
                data={[65, 25, 8, 2]}
                backgroundColor={[
                    "rgba(37, 99, 235, 0.8)",
                    "rgba(34, 197, 94, 0.8)",
                    "rgba(251, 191, 36, 0.8)",
                    "rgba(107, 114, 128, 0.8)",
                ]}
                lang={lang}
            />
        </div>
    </div>
</div>
